if has('vim_starting')
   set nocompatible               
   set runtimepath+=~/.vim/bundle/neobundle.vim/
endif

call neobundle#begin(expand('~/.vim/bundle/'))

NeoBundleFetch 'Shougo/neobundle.vim'

" Custom bundles
NeoBundle 'airblade/vim-gitgutter'
NeoBundle 'bling/vim-airline'
NeoBundle 'kien/ctrlp.vim'
NeoBundle 'godlygeek/tabular'
NeoBundle 'tpope/vim-markdown'
NeoBundle 'reedes/vim-pencil'
NeoBundle 'reedes/vim-colors-pencil'
NeoBundle 'junegunn/goyo.vim'
NeoBundle 'junegunn/limelight.vim'

call neobundle#end()

filetype plugin indent on
set nocompatible

" Check for missing bundles
NeoBundleCheck

" Custom settings
syntax on
set expandtab
set shiftwidth=2
set autoindent
set smartindent
set nu
set guioptions-=T

set laststatus=2
set backspace=2
autocmd BufRead,BufNewFile *.md setlocal spell

let g:pencil#wrapModeDefault = 'hard'
let g:airline_section_x = '%{PencilMode()}'

let g:airline_theme = 'pencil'
let g:pencil_terminal_italics = 1
colorscheme pencil
set background=dark

augroup pencil
    autocmd!
    autocmd FileType markdown,mkd call pencil#init()
    autocmd FileType text         call pencil#init()
augroup END

augroup limelight_pencil
    autocmd!
    autocmd ColorScheme * let g:limelight_conceal_ctermfg =
                            \ (&bg == 'dark') ? 'red' : 'darkgray'
augroup END

highlight clear SignColumn
